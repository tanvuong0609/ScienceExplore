<!DOCTYPE html>  
<html lang="vi">  
<head>  
<meta charset="UTF-8" />  
<meta name="viewport" content="width=device-width, initial-scale=1" />  
<title>Mini Game Si√™u VIP Pro</title>  
<style>  
  * {  
    box-sizing: border-box;  
  }  
  body {  
    background: linear-gradient(135deg, #6a11cb, #2575fc);  
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;  
    padding: 0;  
    margin: 0;  
    color: #fff;  
  }  
  header {  
    text-align: center;  
    padding: 1rem;  
    font-size: 2rem;  
    font-weight: 700;  
    letter-spacing: 1.5px;  
    text-shadow: 2px 2px 4px #00000088;  
  }  
  main {  
    max-width: 800px;  
    margin: 1rem auto;  
    background: #1a1a1add;  
    border-radius: 10px;  
    padding: 1rem 2rem 3rem;  
    box-shadow: 0 8px 20px #000000cc;  
  }  
  nav {  
    display: flex;  
    justify-content: center;  
    margin-bottom: 1rem;  
    gap: 1rem;  
  }  
  nav button {  
    background: #3a3a3a;  
    border: none;  
    border-radius: 25px;  
    padding: 0.5rem 1.5rem;  
    color: #ddd;  
    font-size: 1rem;  
    cursor: pointer;  
    transition: background 0.3s ease;  
    box-shadow: 0 4px 10px #000000aa;  
  }  
  nav button:hover, nav button.active {  
    background: #ffdd2a;  
    color: #111;  
    font-weight: 700;  
  }  
  section.game-section {  
    min-height: 400px;  
  }  

  /* ƒêo√°n h√¨nh ·∫£nh */  
  #guess-image-container {  
    text-align: center;  
  }  
  #guess-image {  
    max-width: 300px;  
    box-shadow: 0 0 15px #ffdd2a;  
    border-radius: 10px;  
    filter: brightness(0.6);  
    transition: filter 0.5s ease;  
    cursor: pointer;  
    margin-bottom: 1rem;  
  }  
  #guess-image.revealed {  
    filter: brightness(1);  
  }  
  #guess-input {  
    padding: 0.5rem 1rem;  
    font-size: 1.1rem;  
    border-radius: 8px;  
    border: none;  
    outline: none;  
    margin-right: 0.5rem;  
  }  
  #guess-btn {  
    background: #ffdd2a;  
    border: none;  
    padding: 0.5rem 1rem;  
    border-radius: 8px;  
    font-weight: 700;  
    cursor: pointer;  
    transition: background 0.3s ease;  
  }  
  #guess-btn:hover {  
    background: #e6c517;  
  }  
  #guess-result {  
    margin-top: 1rem;  
    font-size: 1.2rem;  
    font-weight: 700;  
    min-height: 2em;  
  }  

  /* ƒê·ªë vui gh√©p h√¨nh */  
  #puzzle-board {  
    width: 320px;  
    height: 320px;  
    margin: 0 auto;  
    display: grid;  
    grid-template-columns: repeat(4, 1fr);  
    grid-template-rows: repeat(4, 1fr);  
    gap: 2px;  
    border-radius: 10px;  
    box-shadow: 0 0 20px #ffdd2abb inset;  
    background-color: #222;  
  }  
  .puzzle-tile {  
    background-size: 400% 400%;  
    background-position: center;  
    cursor: grab;  
    border-radius: 6px;  
    transition: box-shadow 0.3s;  
  }  
  .puzzle-tile.dragging {  
    opacity: 0.6;  
    box-shadow: 0 0 20px #ffdd2a;  
  }  
  #puzzle-message {  
    text-align: center;  
    margin-top: 1rem;  
    font-weight: 700;  
    font-size: 1.2rem;  
    color: #ffdd2a;  
    min-height: 2em;  
  }  
  #shuffle-btn {  
    display: block;  
    margin: 1rem auto 0 auto;  
    background: #ffdd2a;  
    color: #000;  
    border: none;  
    padding: 0.6rem 1.5rem;  
    font-weight: 700;  
    font-size: 1rem;  
    border-radius: 10px;  
    cursor: pointer;  
    box-shadow: 0 0 15px #ffdd2a;  
    transition: background 0.3s ease;  
  }  
  #shuffle-btn:hover {  
    background: #e6c517;  
  }  

  /* Tr·∫£ l·ªùi c√¢u h·ªèi */  
  #quiz-container {  
    max-width: 600px;  
    margin: 0 auto;  
  }  
  #quiz-question {  
    font-size: 1.4rem;  
    font-weight: 700;  
    margin-bottom: 1rem;  
    text-align: center;  
    text-shadow: 0 0 5px #ffdd2a;  
  }  
  .quiz-option {  
    background: #3a3a3a;  
    margin: 0.4rem 0;  
    padding: 0.8rem 1rem;  
    border-radius: 12px;  
    cursor: pointer;  
    transition: background 0.3s ease;  
    font-weight: 600;  
    user-select: none;  
  }  
  .quiz-option:hover {  
    background: #ffdd2a;  
    color: #111;  
  }  
  .quiz-option.correct {  
    background: #22c55e !important;  
    color: white;  
    font-weight: 700;  
  }  
  .quiz-option.wrong {  
    background: #ef4444 !important;  
    color: white;  
  }  
  #quiz-result {  
    margin-top: 1rem;  
    font-size: 1.3rem;  
    text-align: center;  
    font-weight: 700;  
    min-height: 2em;  
  }  

  /* Responsive */  
  @media (max-width: 480px) {  
    main {  
      padding: 1rem;  
      margin: 0.5rem;  
    }  
    #puzzle-board {  
      width: 280px;  
      height: 280px;  
    }  
    #guess-image {  
      max-width: 100%;  
    }  
    nav {  
      flex-wrap: wrap;  
    }  
    nav button {  
      flex: 1 1 100%;  
      margin-bottom: 0.5rem;  
    }  
  }  
</style>  
</head>  
<body>  
<header>Mini Game Si√™u VIP Pro</header>  
<main>  
  <nav>  
    <button class="active" data-game="guess-image">ƒêo√°n H√¨nh ·∫¢nh</button>  
    <button data-game="puzzle">ƒê·ªë Vui Gh√©p H√¨nh</button>  
    <button data-game="quiz">Tr·∫£ L·ªùi C√¢u H·ªèi</button>  
  </nav>  

  <section id="guess-image" class="game-section">  
    <div id="guess-image-container">  
      <img id="guess-image-img" src="https://images.unsplash.com/photo-1516116216624-53e697fedbe2?auto=format&fit=crop&w=500&q=80" alt="ƒêo√°n h√¨nh" />  
      <br />  
      <input type="text" id="guess-input" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi..." autocomplete="off"/>  
      <button id="guess-btn">ƒêo√°n</button>  
      <div id="guess-result"></div>  
    </div>  
  </section>  

  <section id="puzzle" class="game-section" style="display:none;">  
    <div id="puzzle-board"></div>  
    <button id="shuffle-btn">Tr·ªôn H√¨nh</button>  
    <div id="puzzle-message"></div>  
  </section>  

  <section id="quiz" class="game-section" style="display:none;">  
    <div id="quiz-container">  
      <div id="quiz-question"></div>  
      <div id="quiz-options"></div>  
      <div id="quiz-result"></div>  
    </div>  
  </section>  
</main>  

<script>  
// ------- Ch·ªçn game -------  
const navButtons = document.querySelectorAll('nav button');  
const gameSections = document.querySelectorAll('.game-section');  
navButtons.forEach(btn => {  
  btn.addEventListener('click', () => {  
    navButtons.forEach(b => b.classList.remove('active'));  
    btn.classList.add('active');  
    const selected = btn.dataset.game;  
    gameSections.forEach(sec => {  
      if (sec.id === selected) sec.style.display = 'block';  
      else sec.style.display = 'none';  
    });  
  });  
});  


// ========== ƒêO√ÅN H√åNH ·∫¢NH ==========  
const guessImage = {  
  imgEl: document.getElementById('guess-image-img'),  
  inputEl: document.getElementById('guess-input'),  
  btnEl: document.getElementById('guess-btn'),  
  resultEl: document.getElementById('guess-result'),  
  correctAnswer: 'mu·ªëi bi·ªÉn',  // V√≠ d·ª• c√¢u tr·∫£ l·ªùi  
  revealed: false,  
  setup() {  
    this.imgEl.classList.remove('revealed');  
    this.inputEl.value = '';  
    this.resultEl.textContent = '';  
    this.revealed = false;  
  },  
  checkAnswer() {  
    const val = this.inputEl.value.trim().toLowerCase();  
    if (!val) return;  
    if (val === this.correctAnswer.toLowerCase()) {  
      this.resultEl.textContent = 'Ch√≠nh x√°c! B·∫°n th·∫≠t tuy·ªát v·ªùi üéâ';  
      this.imgEl.classList.add('revealed');  
      this.revealed = true;  
    } else {  
      this.resultEl.textContent = 'Sai r·ªìi, th·ª≠ l·∫°i nh√©!';  
    }  
  }  
};  

guessImage.btnEl.addEventListener('click', () => guessImage.checkAnswer());  
guessImage.inputEl.addEventListener('keyup', e => {  
  if (e.key === 'Enter') guessImage.checkAnswer();  
});  
// M·ªü r·ªông: C√≥ th·ªÉ cho ng∆∞·ªùi d√πng click h√¨nh ƒë·ªÉ b·∫≠t/t·∫Øt ƒë·ªô s√°ng  
guessImage.imgEl.addEventListener('click', () => {  
  if (guessImage.revealed) {  
    guessImage.imgEl.classList.remove('revealed');  
    guessImage.resultEl.textContent = '';  
    guessImage.inputEl.value = '';  
    guessImage.revealed = false;  
  }  
});  

// Kh·ªüi t·∫°o l√∫c ƒë·∫ßu  
guessImage.setup();  


// ========== ƒê·ªê VUI GH√âP H√åNH ==========  
const puzzleBoard = document.getElementById('puzzle-board');  
const puzzleMessage = document.getElementById('puzzle-message');  
const shuffleBtn = document.getElementById('shuffle-btn');  

// H√¨nh d√πng cho gh√©p (4x4) --> 16 m·∫£nh  
const PUZZLE_ROWS = 4;  
const PUZZLE_COLS = 4;  
const PUZZLE_SIZE = 400; // px, ph·∫£i kh·ªõp background-size  
const PUZZLE_IMAGE = 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80';  

let tiles = [];  
let blankIndex = PUZZLE_ROWS * PUZZLE_COLS - 1; // v·ªã tr√≠ m·∫£nh tr·ªëng  

function createPuzzle() {  
  puzzleBoard.innerHTML = '';  
  tiles = [];  
  for (let i = 0; i < PUZZLE_ROWS * PUZZLE_COLS; i++) {  
    const tile = document.createElement('div');  
    tile.classList.add('puzzle-tile');  
    if (i === blankIndex) {  
      tile.style.backgroundImage = 'none';  
      tile.style.cursor = 'default';  
    } else {  
      tile.style.backgroundImage = `url(${PUZZLE_IMAGE})`;  
      // T√≠nh background position d·ª±a tr√™n v·ªã tr√≠ ·∫£nh g·ªëc 4x4  
      const row = Math.floor(i / PUZZLE_COLS);  
      const col = i % PUZZLE_COLS;  
      tile.style.backgroundPosition = `${(col * 100) / (PUZZLE_COLS - 1)}% ${(row * 100) / (PUZZLE_ROWS - 1)}%`;  
    }  
    tile.setAttribute('data-index', i);  
    tiles.push(tile);  
    puzzleBoard.appendChild(tile);  
  }  
}  

function shufflePuzzle() {  
  // ƒê·∫£o v·ªã tr√≠ ng·∫´u nhi√™n theo ki·ªÉu tr·ªôn h·ª£p ph√°p c·ªßa tr√≤ x·∫øp h√¨nh  
  // ƒê∆°n gi·∫£n: tr·ªôn nhi·ªÅu l·∫ßn di chuy·ªÉn ng·∫´u nhi√™n √¥ tr·ªëng  
  let moves = 1000; // s·ªë l∆∞·ª£t di chuy·ªÉn  
  for (let i = 0; i < moves; i++) {  
    let neighbors = getMovableTiles(blankIndex);  
    let rnd = neighbors[Math.floor(Math.random() * neighbors.length)];  
    swapTiles(blankIndex, rnd);  
    blankIndex = rnd;  
  }  
  puzzleMessage.textContent = 'ƒê√£ tr·ªôn xong, b·∫Øt ƒë·∫ßu gh√©p h√¨nh n√†o! üß©';  
  renderTiles();  
}  

function swapTiles(a, b) {  
  // swap tiles in array  
  const temp = tiles[a];  
  tiles[a] = tiles[b];  
  tiles[b] = temp;  
}  

function getMovableTiles(blankPos) {  
  const neighbors = [];  
  const row = Math.floor(blankPos / PUZZLE_COLS);  
  const col = blankPos % PUZZLE_COLS;  
  if(row > 0) neighbors.push(blankPos - PUZZLE_COLS);  
  if(row < PUZZLE_ROWS - 1) neighbors.push(blankPos + PUZZLE_COLS);  
  if(col > 0) neighbors.push(blankPos - 1);  
  if(col < PUZZLE_COLS - 1) neighbors.push(blankPos + 1);  
  return neighbors;  
}  

function renderTiles() {  
  puzzleBoard.innerHTML = '';  
  for(let i=0; i<tiles.length; i++){  
    const tile = tiles[i];  
    tile.setAttribute('data-index', i);  
    tile.style.cursor = 'grab';  
    puzzleBoard.appendChild(tile);  
  }  
}  

function checkSolved() {  
  for(let i=0; i<tiles.length; i++){  
    if(tiles[i].getAttribute('data-original') !== String(i) && i !== blankIndex) return false;  
  }  
  return true;  
}  

// L·∫ßn ƒë·∫ßu g√°n data-original ƒë·ªÉ check ƒë√∫ng  
function initOriginalIndices() {  
  for(let i=0; i<tiles.length; i++){  
    tiles[i].setAttribute('data-original', i);  
  }  
}  

// X·ª≠ l√Ω khi click di chuy·ªÉn √¥ li·ªÅn k·ªÅ √¥ tr·ªëng  
puzzleBoard.addEventListener('click', e => {  
  if (!e.target.classList.contains('puzzle-tile')) return;  
  const clickedIndex = Number(e.target.getAttribute('data-index'));  
  const movable = getMovableTiles(blankIndex);  
  if(movable.includes(clickedIndex)){  
    swapTiles(blankIndex, clickedIndex);  
    blankIndex = clickedIndex;  
    renderTiles();  
    if(checkSolved()){  
      puzzleMessage.textContent = 'üéâ B·∫°n ƒë√£ ho√†n th√†nh gh√©p h√¨nh!';  
    } else {  
      puzzleMessage.textContent = '';  
    }  
  }  
});  

shuffleBtn.addEventListener('click', () => {  
  blankIndex = PUZZLE_ROWS * PUZZLE_COLS - 1;  
  createPuzzle();  
  initOriginalIndices();  
  shufflePuzzle();  
});  

// Kh·ªüi t·∫°o puzzle ban ƒë·∫ßu  
createPuzzle();  
initOriginalIndices();  


// ========== TR·∫¢ L·ªúI C√ÇU H·ªéI ==========  
const quizData = [  
  {  
    question: 'Th·ªß ƒë√¥ c·ªßa Vi·ªát Nam l√† th√†nh ph·ªë n√†o?',  
    options: ['H·ªì Ch√≠ Minh', 'ƒê√† N·∫µng', 'H√† N·ªôi', 'H·∫£i Ph√≤ng'],  
    answer: 2  
  },  
  {  
    question: 'Ng√¥n ng·ªØ l·∫≠p tr√¨nh n√†o ph·ªï bi·∫øn nh·∫•t hi·ªán nay?',  
    options: ['Python', 'JavaScript', 'C++', 'Java'],  
    answer: 1  
  },  
  {  
    question: 'ƒê·ªôi tuy·ªÉn b√≥ng ƒë√° v√¥ ƒë·ªãch World Cup 2018 l√† ƒë·ªôi n√†o?',  
    options: ['Brazil', 'Ph√°p', 'ƒê·ª©c', 'Argentina'],  
    answer: 1  
  }  
];  

let currentQuizIndex = 0;  
const quizQuestionEl = document.getElementById('quiz-question');  
const quizOptionsEl = document.getElementById('quiz-options');  
const quizResultEl = document.getElementById('quiz-result');  

function loadQuiz(index) {  
  quizResultEl.textContent = '';  
  const quiz = quizData[index];  
  quizQuestionEl.textContent = quiz.question;  
  quizOptionsEl.innerHTML = '';  
  quiz.options.forEach((option, i) => {  
    const opt = document.createElement('div');  
    opt.className = 'quiz-option';  
    opt.textContent = option;  
    opt.addEventListener('click', () => selectOption(i));  
    quizOptionsEl.appendChild(opt);  
  });  
}  

function selectOption(selected) {  
  const quiz = quizData[currentQuizIndex];  
  const options = quizOptionsEl.querySelectorAll('.quiz-option');  
  options.forEach((opt, i) => {  
    opt.removeEventListener('click', () => {});  
    if(i === quiz.answer) {  
      opt.classList.add('correct');  
    }  
    if(i === selected) {  
      if(selected === quiz.answer){  
        quizResultEl.textContent = 'Ch√≠nh x√°c! üéâ';  
      } else {  
        opt.classList.add('wrong');  
        quizResultEl.textContent = 'Sai r·ªìi, ƒë√°p √°n ƒë√∫ng l√†: ' + quiz.options[quiz.answer];  
      }  
    }  
    opt.style.cursor = 'default';  
  });  
  // T·ª± ƒë·ªông chuy·ªÉn sang c√¢u ti·∫øp theo sau 3s n·∫øu c√≤n c√¢u  
  if(currentQuizIndex < quizData.length - 1){  
    setTimeout(() => {  
      currentQuizIndex++;  
      loadQuiz(currentQuizIndex);  
    }, 3000);  
  } else {  
    setTimeout(() => {  
      quizResultEl.textContent = 'B·∫°n ƒë√£ ho√†n th√†nh h·∫øt c√¢u h·ªèi! üëç';  
    }, 3000);  
  }  
}  

// Kh·ªüi t·∫°o quiz  
loadQuiz(currentQuizIndex);  
</script>  

</body>  
</html>  