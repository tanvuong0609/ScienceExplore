<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Tr√≤ ch∆°i ƒê·ªë Vui</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f0f8ff;
    }

    .quiz-container {
      max-width: 600px;
      margin: auto;
      background-color: #fff;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      transition: opacity 0.5s ease;
    }

    #quiz-question {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 20px;
    }

    .quiz-option {
      background-color: #e0e0e0;
      padding: 10px;
      margin: 8px 0;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s;
    }

    .quiz-option:hover {
      background-color: #d0d0d0;
    }

    .correct {
      background-color: #a5d6a7 !important;
    }

    .wrong {
      background-color: #ef9a9a !important;
    }

    #quiz-result, #quiz-score, #quiz-timer {
      margin-top: 10px;
      font-size: 18px;
      font-weight: bold;
    }

    #quiz-controls {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    button {
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      background-color: #1976d2;
      color: white;
      font-size: 16px;
      cursor: pointer;
    }

    button:hover {
      background-color: #1565c0;
    }

    #quiz-summary {
      display: none;
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
      color: green;
    }
  </style>
</head>
<body>

  <div class="quiz-container" id="quiz-container">
    <div id="quiz-question"></div>
    <div id="quiz-options"></div>
    <div id="quiz-result"></div>
    <div id="quiz-score">ƒêi·ªÉm: 0</div>
    <div id="quiz-timer">Th·ªùi gian: 15s</div>

    <div id="quiz-controls">
      <button onclick="prevQuestion()">C√¢u tr∆∞·ªõc</button>
      <button onclick="nextQuestion()">C√¢u ti·∫øp</button>
    </div>

    <div id="quiz-summary"></div>
  </div>

  <script>
    const quizData = [
      { question: 'Th·ªß ƒë√¥ c·ªßa Vi·ªát Nam l√† th√†nh ph·ªë n√†o?', options: ['H·ªì Ch√≠ Minh', 'ƒê√† N·∫µng', 'H√† N·ªôi', 'H·∫£i Ph√≤ng'], answer: 2 },
      { question: 'Ng√¥n ng·ªØ l·∫≠p tr√¨nh n√†o ph·ªï bi·∫øn nh·∫•t hi·ªán nay?', options: ['Python', 'JavaScript', 'C++', 'Java'], answer: 1 },
      { question: 'Ng·ªçn n√∫i cao nh·∫•t th·∫ø gi·ªõi l√† g√¨?', options: ['K2', 'Everest', 'Kilimanjaro', 'Fuji'], answer: 1 },
      { question: 'H√†nh tinh n√†o g·∫ßn M·∫∑t Tr·ªùi nh·∫•t?', options: ['Venus', 'Mars', 'Mercury', 'Jupiter'], answer: 2 },
      { question: 'ƒê·ªôi tuy·ªÉn v√¥ ƒë·ªãch World Cup 2018 l√† ƒë·ªôi n√†o?', options: ['Brazil', 'Ph√°p', 'ƒê·ª©c', 'Argentina'], answer: 1 }
    ];

    let currentQuizIndex = 0;
    let score = 0;
    let timer;
    let timeLeft = 15;
    let isAnswered = false;

    const quizQuestionEl = document.getElementById('quiz-question');
    const quizOptionsEl = document.getElementById('quiz-options');
    const quizResultEl = document.getElementById('quiz-result');
    const quizScoreEl = document.getElementById('quiz-score');
    const quizTimerEl = document.getElementById('quiz-timer');
    const quizSummaryEl = document.getElementById('quiz-summary');
    const quizContainerEl = document.getElementById('quiz-container');

    function loadQuiz(index) {
      clearInterval(timer);
      timeLeft = 30;
      updateTimer();
      timer = setInterval(countdown, 1000);
      isAnswered = false;
      quizResultEl.textContent = '';
      quizSummaryEl.style.display = 'none';
      quizContainerEl.style.opacity = 0;

      setTimeout(() => {
        const quiz = quizData[index];
        quizQuestionEl.textContent = quiz.question;
        quizOptionsEl.innerHTML = '';
        quiz.options.forEach((option, i) => {
          const opt = document.createElement('div');
          opt.className = 'quiz-option';
          opt.textContent = option;
          opt.addEventListener('click', () => selectOption(i));
          quizOptionsEl.appendChild(opt);
        });
        quizContainerEl.style.opacity = 1;
      }, 300);
    }

    function selectOption(selected) {
      if (isAnswered) return;
      isAnswered = true;
      clearInterval(timer);

      const quiz = quizData[currentQuizIndex];
      const options = quizOptionsEl.querySelectorAll('.quiz-option');

      options.forEach((opt, i) => {
        opt.style.cursor = 'default';
        if (i === quiz.answer) opt.classList.add('correct');
        if (i === selected && i !== quiz.answer) opt.classList.add('wrong');
      });

      if (selected === quiz.answer) {
        quizResultEl.textContent = 'Ch√≠nh x√°c! üéâ';
        score++;
      } else if (selected === -1) {
        quizResultEl.textContent = 'H·∫øt gi·ªù! ƒê√°p √°n ƒë√∫ng l√†: ' + quiz.options[quiz.answer];
      } else {
        quizResultEl.textContent = 'Sai r·ªìi, ƒë√°p √°n ƒë√∫ng l√†: ' + quiz.options[quiz.answer];
      }

      quizScoreEl.textContent = 'ƒêi·ªÉm: ' + score;

      setTimeout(() => {
        if (currentQuizIndex < quizData.length - 1) {
          currentQuizIndex++;
          loadQuiz(currentQuizIndex);
        } else {
          showSummary();
        }
      }, 3000);
    }

    function nextQuestion() {
      if (currentQuizIndex < quizData.length - 1) {
        currentQuizIndex++;
        loadQuiz(currentQuizIndex);
      } else {
        showSummary();
      }
    }

    function prevQuestion() {
      if (currentQuizIndex > 0) {
        currentQuizIndex--;
        loadQuiz(currentQuizIndex);
      } else {
        alert("ƒê√¢y l√† c√¢u ƒë·∫ßu ti√™n.");
      }
    }

    function countdown() {
      timeLeft--;
      updateTimer();
      if (timeLeft <= 0) {
        clearInterval(timer);
        selectOption(-1); // h·∫øt gi·ªù, kh√¥ng ch·ªçn g√¨
      }
    }

    function updateTimer() {
      quizTimerEl.textContent = 'Th·ªùi gian: ' + timeLeft + 's';
    }

    function showSummary() {
      quizSummaryEl.style.display = 'block';
      quizSummaryEl.textContent = `üéâ Tr√≤ ch∆°i k·∫øt th√∫c! B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng ${score}/${quizData.length} c√¢u v√† ƒë·∫°t ${score} ƒëi·ªÉm.`;
    }

    loadQuiz(currentQuizIndex);
  </script>

</body>
</html>
